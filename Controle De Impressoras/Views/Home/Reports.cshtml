@model IEnumerable<Controle_De_Impressoras.Models.ReportModel>

@{
    ViewBag.Title = "Relatórios";
}

<h2>Relatórios</h2>

<!-- Formulário de filtro -->
@using (Html.BeginForm("Index", "Reports", FormMethod.Get))
{
    <div class="form-group">
        <label for="startDate">Data Inicial:</label>
        @Html.TextBox("startDate", Request.QueryString["startDate"], new { @class = "form-control", type = "date" })
    </div>
    <div class="form-group">
        <label for="endDate">Data Final:</label>
        @Html.TextBox("endDate", Request.QueryString["endDate"], new { @class = "form-control", type = "date" })
    </div>
    <div class="form-group">
        <label for="printerId">ID da Impressora:</label>
        @Html.TextBox("printerId", Request.QueryString["printerId"], new { @class = "form-control" })
    </div>
    <button type="submit" class="btn btn-primary">Filtrar</button>
}

<table class="table table-striped">
    <thead>
        <tr>
            <th>@Html.DisplayNameFor(model => model.First().ReportDate)</th>
            <th>@Html.DisplayNameFor(model => model.First().DeviceManufacturer)</th>
            <th>@Html.DisplayNameFor(model => model.First().PrinterModel)</th>
            <th>@Html.DisplayNameFor(model => model.First().SerialImpressora)</th>
            <th>@Html.DisplayNameFor(model => model.First().QuantidadeImpressaoTotal)</th>
            <th>@Html.DisplayNameFor(model => model.First().PrinterStatus)</th>
            <th>@Html.DisplayNameFor(model => model.First().Tipo)</th>
            <th>@Html.DisplayNameFor(model => model.First().Patrimonio)</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var report in Model)
        {
            <tr>
                <td>@report.ReportDate.ToShortDateString()</td>
                <td>@report.DeviceManufacturer</td>
                <td>@report.PrinterModel</td>
                <td>@report.SerialImpressora</td>
                <td>@report.QuantidadeImpressaoTotal</td>
                <td>@report.PrinterStatus</td>
                <td>@report.Tipo</td>
                <td>@report.Patrimonio</td>
                <td>
                    @Html.ActionLink("Detalhes", "Details", new { id = report.ReportId }) |
                    @Html.ActionLink("Editar", "Edit", new { id = report.ReportId }) |
                    @Html.ActionLink("Excluir", "Delete", new { id = report.ReportId })
                </td>
            </tr>
        }
    </tbody>
</table>
